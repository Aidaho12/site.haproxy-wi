{% extends "base.html" %}
{% block content %}	
<div style="padding-left: 20px">
	
	<h3>REST API</h3>
	<br />
	Start with v3.6 HAProxy-WI begun support REST API:
	<div class="code_div">
		<pre>
curl -X POST \
  https://demo.haproxy-wi.org/api/ \
  -H 'Accept: */*' \
  -H 'Accept-Encoding: gzip, deflate' \
  -H 'Cache-Control: no-cache' \
  -H 'Connection: keep-alive' \
  -H 'Content-Length: 0' \
  -H 'Host: demo.haproxy-wi.org' \
  -H 'User-Agent: PostmanRuntime/7.19.0' \
  -H 'cache-control: no-cache' \
  -H 'login: admin' \
  -H 'password: admin'
		</pre>
	</div>
	Will give you:
	<div class="code_div">
		<pre>
{
    "help": {
        "server/&lt;id,hostname,ip>/runtime": "exec HAProxy runtime commands by id or hostname or ip",
        "server/&lt;id,hostname,ip>/backends':'show backends by id or hostname or ip",
        "server/&lt;id,hostname,ip>/action/stop": "stop HAProxy service by id or hostname or ip",
        "servers": "show info about all servers",
        "server/&lt;id,hostname,ip>": "show info about server by id or hostname or ip",
        "server/&lt;id,hostname,ip>/action/restart": "restart HAProxy service by id or hostname or ip",
        "server/&lt;id,hostname,ip>/action/start": "start HAProxy service by id or hostname or ip",
        "server/&lt;id,hostname,ip>/status": "show HAProxy status by id or hostname or ip"
    }
}
		</pre>
	</div>
	For example you can stop certain HAProxy service:
	<br />
	<div class="code_div">
		<pre>
curl -X POST \
  https://demo.haproxy-wi.org/api/server/1/action/stop \
  -H 'Accept: */*' \
  -H 'Accept-Encoding: gzip, deflate' \
  -H 'Cache-Control: no-cache' \
  -H 'Connection: keep-alive' \
  -H 'Content-Length: 0' \
  -H 'Host: demo.haproxy-wi.org' \
  -H 'User-Agent: PostmanRuntime/7.19.0' \
  -H 'cache-control: no-cache' \
  -H 'login: admin' \
  -H 'password: admin'
		</pre>
	</div>
	Will give you: 
	<div class="code_div">
		<pre>
{
    "status": {
        "status": "done",
        "ip": "178.57.218.185",
        "id": 1,
        "hostname": "test-server",
        "action": "stop"
    }
}
		</pre>
	</div>
	<iframe width="860" height="515" src="https://www.youtube.com/embed/4UWinQLWTvw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
{% endblock %}